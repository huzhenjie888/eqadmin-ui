(function(o,d){typeof exports=="object"&&typeof module<"u"?d(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],d):(o=typeof globalThis<"u"?globalThis:o||self,d(o["eqadmin-ui"]={},o.Vue))})(this,function(o,d){"use strict";const s={};s.dealFile=function(e,t){t.focus();let n=document.createElement("img");t.appendChild(n);let i=document.createRange();i.selectNodeContents(t),i.collapse(!1);let a=window.getSelection();if(a.removeAllRanges(),a.addRange(i),e.type.indexOf("image")!=-1){let r=new FileReader;r.readAsDataURL(e),r.onloadend=function(){n.src=r.result}}};const v="",c=(e,t)=>{const n=e.__vccOpts||e;for(const[i,a]of t)n[i]=a;return n},u={name:"eqadmin-editor",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"}},watch:{width(e){this.editorWidth=this.width},height(e){this.editorHeight=this.height}},data(){return{editorWidth:"100%",editorHeight:"100%",editorContent:null,content:{}}},methods:{getEditor(){return this.editorContent},input(e){this.content.text=e.target.innerText,this.content.html=e.target.innerHTML,this.$emit("eqadminEditorInput",this.content)}},mounted(){let e=this.$refs.eqadminEditorContent;this.editorContent=e,e.style.width=this.editorWidth,e.style.height=this.editorHeight,e.addEventListener("paste",function(t){const n=(t.clipboardData||window.clipboardData).items;if(n&&n.length)for(var i=0;i<n.length;i++)n[i].kind=="file"&&s.dealFile(n[i].getAsFile(),e)})}},h={class:"eqadmin-editor editor-root"},f={ref:"eqadmin-toolbar"};function m(e,t,n,i,a,r){return d.openBlock(),d.createElementBlock("div",h,[d.createElementVNode("div",f,null,512),d.createElementVNode("div",{ref:"eqadminEditorContent",class:"editor-content",contenteditable:"true",onInput:t[0]||(t[0]=(..._)=>r.input&&r.input(..._))},null,544)])}const l=c(u,[["render",m]]),p=[l],g={install(e){p.forEach(t=>{e.component(t.name,t)})}};o.default=g,o.eqadminEditor=l,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
